2025-10-12 17:15:54,517 | INFO | === Retraining pipeline started ===
2025-10-12 17:15:54,518 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python user_behavior_advanced.py
2025-10-12 17:15:55,753 | INFO | ✅ Đã tạo file /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/data/raw/user_behavior_40purchase.csv
Tổng số event: 18041
Số user: 2564
Số sản phẩm: 95
Các loại event: {'view': 0.326, 'click': 0.231, 'purchase': 0.163, 'add_to_cart': 0.158, 'reject': 0.065, 'out': 0.057}
      session_id  user_id  product_id            timestamp   event_type
14746   56d97253        2          84  2024-01-17 00:00:00         view
14747   56d97253        2          84  2024-01-17 00:04:00          out
14748   56d97253        2          84  2024-01-17 00:09:00         view
14749   56d97253        2          84  2024-01-17 00:11:00        click
14750   56d97253        2          84  2024-01-17 00:15:00  add_to_cart
14751   56d97253        2          84  2024-01-17 00:17:00     purchase
14752   b9d1fadc        2          84  2024-01-19 00:21:00         view
14753   b9d1fadc        2          84  2024-01-19 00:24:00        click
14754   b9d1fadc        2          84  2024-01-19 00:27:00  add_to_cart
14755   b9d1fadc        2          84  2024-01-19 00:31:00     purchase

2025-10-12 17:15:55,753 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python prepare_interactions_for_recbole.py
2025-10-12 17:15:56,396 | INFO | ✅ Đã tạo file /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/recommender/dataset/ecommerce/ecommerce.inter (18041 dòng)
   user_id  item_id            timestamp   event_type  label
0        2       84  2024-01-17 00:00:00         view      0
1        2       84  2024-01-17 00:04:00          out      0
2        2       84  2024-01-17 00:09:00         view      0
3        2       84  2024-01-17 00:11:00        click      0
4        2       84  2024-01-17 00:15:00  add_to_cart      0
5        2       84  2024-01-17 00:17:00     purchase      1
6        2       84  2024-01-19 00:21:00         view      0
7        2       84  2024-01-19 00:24:00        click      0
8        2       84  2024-01-19 00:27:00  add_to_cart      0
9        2       84  2024-01-19 00:31:00     purchase      1

2025-10-12 17:15:56,396 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
2025-10-12 17:15:56,423 | INFO | /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python: can't open file '/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/recommender/train_bert4rec.py': [Errno 2] No such file or directory

2025-10-12 17:15:56,423 | ERROR | Retraining pipeline failed: Command failed (2): /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
Traceback (most recent call last):
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 87, in <module>
    main()
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 77, in main
    run_step([sys.executable, "train_bert4rec.py"], PROJECT_ROOT / "recommender")
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 48, in run_step
    raise RuntimeError(f"Command failed ({result.returncode}): {' '.join(command)}")
RuntimeError: Command failed (2): /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
2025-10-12 17:18:56,505 | INFO | === Retraining pipeline started ===
2025-10-12 17:18:56,505 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python user_behavior_advanced.py
2025-10-12 17:18:57,212 | INFO | ✅ Đã tạo file /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/data/raw/user_behavior_40purchase.csv
Tổng số event: 18124
Số user: 2578
Số sản phẩm: 95
Các loại event: {'view': 0.326, 'click': 0.231, 'purchase': 0.163, 'add_to_cart': 0.158, 'reject': 0.064, 'out': 0.057}
      session_id  user_id  product_id            timestamp   event_type
9513    2b0d724c        1          53  2024-04-21 00:00:00         view
9514    2b0d724c        1          53  2024-04-21 01:51:00          out
9515    2b0d724c        1          53  2024-04-21 02:49:00         view
9516    2b0d724c        1          53  2024-04-21 03:24:00        click
11375   01c6c6e9        2          63  2024-03-01 00:00:00         view
11376   01c6c6e9        2          63  2024-03-01 00:57:00        click
11377   01c6c6e9        2          63  2024-03-01 01:54:00       reject
15981   bb8e9202        2          90  2024-03-29 00:00:00         view
15982   bb8e9202        2          90  2024-03-29 00:19:00        click
15983   bb8e9202        2          90  2024-03-29 00:28:00  add_to_cart

2025-10-12 17:18:57,212 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python prepare_interactions_for_recbole.py
2025-10-12 17:18:57,575 | INFO | ✅ Đã tạo file /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/recommender/dataset/ecommerce/ecommerce.inter (18124 dòng)
   user_id  item_id            timestamp   event_type  label
0        1       53  2024-04-21 00:00:00         view      0
1        1       53  2024-04-21 01:51:00          out      0
2        1       53  2024-04-21 02:49:00         view      0
3        1       53  2024-04-21 03:24:00        click      0
4        2       63  2024-03-01 00:00:00         view      0
5        2       63  2024-03-01 00:57:00        click      0
6        2       63  2024-03-01 01:54:00       reject      0
7        2       90  2024-03-29 00:00:00         view      0
8        2       90  2024-03-29 00:19:00        click      0
9        2       90  2024-03-29 00:28:00  add_to_cart      0

2025-10-12 17:18:57,575 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
2025-10-12 17:18:57,584 | INFO | /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python: can't open file '/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/recommender/train_bert4rec.py': [Errno 2] No such file or directory

2025-10-12 17:18:57,584 | ERROR | Retraining pipeline failed: Command failed (2): /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
Traceback (most recent call last):
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 87, in <module>
    main()
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 77, in main
    run_step([sys.executable, "train_bert4rec.py"], PROJECT_ROOT / "recommender")
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 48, in run_step
    raise RuntimeError(f"Command failed ({result.returncode}): {' '.join(command)}")
RuntimeError: Command failed (2): /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
2025-10-12 17:19:19,442 | INFO | === Retraining pipeline started ===
2025-10-12 17:19:19,443 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python user_behavior_advanced.py
2025-10-12 17:19:20,565 | INFO | ✅ Đã tạo file /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/data/raw/user_behavior_40purchase.csv
Tổng số event: 18134
Số user: 2582
Số sản phẩm: 95
Các loại event: {'view': 0.327, 'click': 0.23, 'purchase': 0.162, 'add_to_cart': 0.158, 'reject': 0.064, 'out': 0.059}
     session_id  user_id  product_id            timestamp   event_type
3690   059f71f6        2          20  2024-01-31 00:00:00         view
3691   059f71f6        2          20  2024-01-31 00:51:00        click
172    aebcb07f        2           1  2024-02-15 00:00:00         view
173    aebcb07f        2           1  2024-02-15 01:12:00        click
731    6cf41ff3        2           4  2024-02-26 00:00:00         view
5521   6393d405        2          31  2024-02-26 00:00:00         view
5522   6393d405        2          31  2024-02-26 00:01:00        click
5523   6393d405        2          31  2024-02-26 00:03:00  add_to_cart
5524   6393d405        2          31  2024-02-26 00:06:00     purchase
732    6cf41ff3        2           4  2024-02-26 00:25:00       reject

2025-10-12 17:19:20,565 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python prepare_interactions_for_recbole.py
2025-10-12 17:19:21,144 | INFO | ✅ Đã tạo file /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/recommender/dataset/ecommerce/ecommerce.inter (18134 dòng)
   user_id  item_id            timestamp   event_type  label
0        2       20  2024-01-31 00:00:00         view      0
1        2       20  2024-01-31 00:51:00        click      0
2        2        1  2024-02-15 00:00:00         view      0
3        2        1  2024-02-15 01:12:00        click      0
4        2        4  2024-02-26 00:00:00         view      0
5        2       31  2024-02-26 00:00:00         view      0
6        2       31  2024-02-26 00:01:00        click      0
7        2       31  2024-02-26 00:03:00  add_to_cart      0
8        2       31  2024-02-26 00:06:00     purchase      1
9        2        4  2024-02-26 00:25:00       reject      0

2025-10-12 17:19:21,144 | INFO | Running: /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
2025-10-12 17:19:21,154 | INFO | /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python: can't open file '/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/recommender/train_bert4rec.py': [Errno 2] No such file or directory

2025-10-12 17:19:21,154 | ERROR | Retraining pipeline failed: Command failed (2): /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
Traceback (most recent call last):
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 87, in <module>
    main()
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 77, in main
    run_step([sys.executable, "train_bert4rec.py"], PROJECT_ROOT / "recommender")
  File "/home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/tasks/retrain.py", line 48, in run_step
    raise RuntimeError(f"Command failed ({result.returncode}): {' '.join(command)}")
RuntimeError: Command failed (2): /home/nemmer/Nemmer-Workflow/Project/Second-hand-Web-VietNam/ai-agent/venv/bin/python train_bert4rec.py
